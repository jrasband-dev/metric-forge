# Metric Forge

<img src="https://raw.githubusercontent.com/jrasband-dev/metric-forge/fb6a5ed63c35eda1443c3e6cedd9b4f4b18d5e41/static/metric-forge2.svg" alt="Description of the image" width="300" height="300">

Metric Forge is your ultimate toolkit for measuring and evaluating performance across various business domains.

### Disclaimer

Metric Forge provides a collection of calculations across various domains, including finance, mortgage, marketing, and more. While every effort has been made to ensure the accuracy and reliability of the calculations and methods provided, Metric Forge is intended for informational and educational purposes only.

Important Notice:

No Warranty: The calculations and methods provided in this package are offered "as-is" without any guarantees or warranties of any kind, either express or implied. The package's creators do not assume any responsibility for errors or omissions or for any damages resulting from the use of the package.

Not Professional Advice: The results produced by the package should not be considered as professional financial, investment, legal, or any other type of advice. Users should consult with qualified professionals before making any decisions based on the outputs generated by this package.

Use at Your Own Risk: Users of Metric Forge assume full responsibility for the use of the package and its results. The creators of the package shall not be held liable for any decisions made based on the information provided or for any consequences arising from the use of the package.

By using this package, you acknowledge and agree to this disclaimer. If you do not agree, please refrain from using the Metric Forge package.


## Getting Started 
install the package via pip


```python
pip install metric-forge
```


## Ecommerce
You can use Ecommerce Metrics in two different ways:
* With Polars
* As a Single Value Function (SVF)

Metric Forge extends the Polars expression library; making it possible to perform row-wise-calculations for various metrics. In addition to mass calculations, you can also perform single value calculations that return just one value. 


```python
from metric_forge.ecommerce import * 
import polars as pl
data = pl.read_csv('datasets/ecommerce_metrics.csv')
data.head()
```



<div><style>
.dataframe > thead > tr,
.dataframe > tbody > tr {
  text-align: right;
  white-space: pre-wrap;
}
</style>
<small>shape: (5, 15)</small><table border="1" class="dataframe"><thead><tr><th>month</th><th>total_revenue</th><th>number_of_orders</th><th>cost_of_acquisition</th><th>new_customers</th><th>carts_created</th><th>completed_purchases</th><th>revenue_from_ads</th><th>advertising_spend</th><th>num_conversions</th><th>num_visitors</th><th>revenue_per_customer</th><th>average_customer_lifetime</th><th>num_customers_lost</th><th>total_customers_beginning</th></tr><tr><td>str</td><td>f64</td><td>i64</td><td>f64</td><td>i64</td><td>i64</td><td>i64</td><td>f64</td><td>f64</td><td>i64</td><td>i64</td><td>f64</td><td>f64</td><td>i64</td><td>i64</td></tr></thead><tbody><tr><td>&quot;2023-01&quot;</td><td>87454.011885</td><td>991</td><td>22958.350559</td><td>406</td><td>1969</td><td>1425</td><td>81339.957696</td><td>5390.910169</td><td>300</td><td>13154</td><td>202.427329</td><td>3.159364</td><td>239</td><td>3306</td></tr><tr><td>&quot;2023-02&quot;</td><td>145071.430641</td><td>913</td><td>18736.874206</td><td>234</td><td>1506</td><td>1421</td><td>76875.083402</td><td>15585.037018</td><td>427</td><td>14762</td><td>116.173436</td><td>1.812245</td><td>124</td><td>4680</td></tr><tr><td>&quot;2023-03&quot;</td><td>123199.394181</td><td>1305</td><td>28355.586842</td><td>120</td><td>1497</td><td>965</td><td>116505.482191</td><td>14872.037954</td><td>367</td><td>10056</td><td>384.265156</td><td>4.771414</td><td>177</td><td>4675</td></tr><tr><td>&quot;2023-04&quot;</td><td>109865.84842</td><td>885</td><td>14184.81582</td><td>428</td><td>1963</td><td>1102</td><td>106008.046381</td><td>12337.204368</td><td>132</td><td>19948</td><td>144.356328</td><td>3.395462</td><td>299</td><td>2972</td></tr><tr><td>&quot;2023-05&quot;</td><td>65601.864044</td><td>691</td><td>18764.339456</td><td>266</td><td>1009</td><td>801</td><td>97258.809912</td><td>5351.995568</td><td>147</td><td>13110</td><td>275.734601</td><td>3.77914</td><td>296</td><td>3768</td></tr></tbody></table></div>



#### Customer Acquisition Cost


```python
data.with_columns(pl.col('total_marketing_costs').forge_ecommerce.customer_acquisition_cost('cost_of_acquisition', 'new_customers'))
```

#### Average Order Value


```python
data.with_columns(pl.col('total_marketing_costs').forge_ecommerce.average_order_value('total_revenue', 'number_of_orders'))
```

#### Cart Abandonment Rate


```python
data.with_columns(pl.col('total_marketing_costs').forge_ecommerce.cart_abandonment_rate('carts_created', 'completed_purchases'))
```

#### Return on Advertising Spend


```python
data.with_columns(pl.col('total_marketing_costs').forge_ecommerce.return_on_advertising_spend('revenue_from_ads', 'advertising_spend'))
```

#### Conversion Rate


```python
data.with_columns(pl.col('total_marketing_costs').forge_ecommerce.conversion_rate('num_conversions', 'num_visitors'))
```

#### Customer Lifetime Value


```python
data.with_columns(pl.col('total_marketing_costs').forge_ecommerce.customer_lifetime_value('revenue_per_customer', 'average_customer_lifetime'))
```

## Product Development
You can use Product Development Metrics in two different ways:
* With Polars
* As a Single Value Function (SVF)

Metric Forge extends the Polars expression library; making it possible to perform row-wise-calculations for various metrics. In addition to mass calculations, you can also perform single value calculations that return just one value. 


```python
import polars as pl
data = pl.read_csv('datasets/customer-value.csv')
data
```

### Underserved Customer Needs


```python
from metric_forge.product_development import *


data.with_columns(pl.col('total_marketing_costs').forge_product_dev.opportunity_score(importance_col='importance_score',satisfaction_col='satisfaction_score'))

```


```python
data.with_columns(pl.col('total_marketing_costs').forge_product_dev.customer_value_delivered(importance_col='importance_score',satisfaction_col='satisfaction_score'))

```


```python
data.with_columns(pl.col('total_marketing_costs').forge_product_dev.opportunity_to_add_value(importance_col='importance_score',satisfaction_col='satisfaction_score'))
```


```python
import polars as pl
data = pl.read_csv('datasets/customer-value-added.csv')
data
```


```python
data.with_columns(pl.col('total_marketing_costs').forge_product_dev.customer_value_created(importance_col='importance_score'
                       ,satisfaction_after_col='satisfaction_score_after'
                       ,satisfaction_before_col='satisfaction_score_before'))

```

## Finance

The Finance module contains financial statement objects that you can call certain methods off of to get key financial metrics. You need to define these objects prior to running calcuations. 

### Income Statement


```python
from metric_forge import *

income = IncomeStatement(revenue=10000,cogs=2000,expenses=3000,)
income.ebitda_margin()
```


```python
income.earnings_per_share()
```


```python
income.net_profit_margin()
```

### Balance Sheet


```python
BalanceSheet(assets=300000,total_liabilities=150000,equity=150000).check_balance()
```

### Cash Flow


```python
CashFlowStatement(operating_cash_flow=3000,capital_expenditures=4000).free_cash_flow()
```

## Mortgage

The Mortgage module contains mortgage objects that you enable you to assess mortgage metrics. You need to define these objects prior to running calcuations. 


```python
from metric_forge.mortgage import *

mortgage = Mortgage(principal=360000,annual_interest_rate=5.75,start_date='2023-09-01',term_years=30,extra_principal_payment=200)
mortgage.calculate_monthly_payment()

```


```python
mortgage.generate_amortization_schedule()
```


```python
mortgage.calculate_principal_only_payment()
```


```python
mortgage.refinance_assessment(RefinanceOption(new_loan_amount=350000,new_annual_interest_rate=5.25,new_term_years=30,associated_costs=5000))

```

## Web Traffic


```python
from metric_forge.web_traffic import *
import polars as pl

data = pl.read_csv('datasets/web_traffic.csv')
data
```


```python
data.with_columns(pl.col('total_duration').forge_web_traffic.average_session_duration('total_duration', 'total_sessions'))
```


```python

```
